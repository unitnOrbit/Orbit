@(cat: models.statistics.Category, report: models.statistics.Report, statsList: List[Long], reportForm: Form[models.statistics.Report], userRole: List[models.global.UserRole], step: String)

@import helper._
@import helper.twitterBootstrap._

@main(Html("Edit: " + report.name), nav = "cat-" + cat.id, nav2 = "report-" + report.id, null){

    @if(step == "edit") {
        <div class="alert alert-info">
            <button class="close" data-dismiss="alert">x</button>
            <strong>Info:</strong> The changes made ​​will be final, you can not go back. 
        </div>
    }

    @if(step == "success") {
        <div class="alert alert-success">
            <button class="close" data-dismiss="alert">x</button>
            <strong>Well done:</strong> The operation that you have made ​​has been completed successfully!
        </div>
    }

    @if(reportForm.hasErrors()) {
        <div class="alert alert-error">
            <button class="close" data-dismiss="alert">x</button>
            <p><strong>Error:</strong> @reportForm.errors()</p>
        </div>
    } 

    @helper.form(routes.Admin.report_edit(report.id), 'class -> "well form-inline") {
        <fieldset>
            <legend>Edit report</legend>
            @textarea(
                reportForm("name"), 
                '_label -> "Report Name",
                'rows -> 2, 
                'class -> "span6", 
                '_showConstraints -> false
            )
            @textarea(
                reportForm("description"), 
                '_label -> "Report Description",
                'rows -> 8, 
                'class -> "span6", 
                '_showConstraints -> false
            )
        </fieldset>

        <fieldset>
            <legend>Set visibility</legend>
            @for(role <- userRole) {                
                <label class="inline"><!-- force inline -->
                    @checkbox(
                    reportForm(role.role),
                    '_label -> role.role,
                    'id -> role.role,
                    'class -> "inline"
                    )
                    &nbsp;
                </label>
            }
        </fieldset>

        <div class="actions">
            <button type="submit" class="btn">Complete</button>
        </div>
    }

}